{"_path":"/core/priority-mapping","_dir":"core","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Priority Mapping","description":"","position":13,"category":"Policy Reporter","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"priority-mapping"},"children":[{"type":"text","value":"Priority Mapping"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Priorities are used to decide if a result should be sent to a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Target"}]},{"type":"text","value":" with configured "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"minimumPriority"}]},{"type":"text","value":" and how it should be displayed."}]},{"type":"element","tag":"h2","props":{"id":"how-priority-is-determined"},"children":[{"type":"text","value":"How Priority is determined"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"priority"}]},{"type":"text","value":" of a PolicyReportResult depends by default on its "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"result"}]},{"type":"text","value":" and "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"severity"}]},{"type":"text","value":" value."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Options in ascending order are: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"debug"}]},{"type":"text","value":" < "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"info"}]},{"type":"text","value":" < "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"warning"}]},{"type":"text","value":" < "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"critical"}]},{"type":"text","value":" < "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error"}]}]},{"type":"element","tag":"h3","props":{"id":"defaults"},"children":[{"type":"text","value":"Defaults"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Passed results have "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"info"}]},{"type":"text","value":" priority"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Warn results have "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"warning"}]},{"type":"text","value":" priority"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Error results have "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"error"}]},{"type":"text","value":" priority"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Fail results without severities have "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"warning"}]},{"type":"text","value":" priority"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Fail results with low severity have "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"info"}]},{"type":"text","value":" priority"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Fail results with medium severity have "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"warning"}]},{"type":"text","value":" priority"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Fail results with high severity have "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"critical"}]},{"type":"text","value":" priority"}]}]},{"type":"element","tag":"h3","props":{"id":"custom-policy-priorities"},"children":[{"type":"text","value":"Custom Policy Priorities"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to change the priority of PolicyReportResults based on the "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Policy"}]},{"type":"text","value":", you can configure a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"priority map"}]},{"type":"text","value":". This map can assign one priority per policy or a default priority which is used for all results without severity or a concrete mapping to their related policy."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"# values.yaml\npolicyPriorities:\n  # used for all fail results without severity or concrete mapping\n  default: warning\n  # used for all fail results of the require-ns-labels policy independent of the severity\n  require-ns-labels: error\n","filename":"Helm 3","language":"yaml","meta":"[Helm 3]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5e2f28"},"children":[{"type":"text","value":"# values.yaml"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b68fd1"},"children":[{"type":"text","value":"policyPriorities"}]},{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5e2f28"},"children":[{"type":"text","value":"# used for all fail results without severity or concrete mapping"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-b68fd1"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-5e8172"},"children":[{"type":"text","value":"warning"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5e2f28"},"children":[{"type":"text","value":"# used for all fail results of the require-ns-labels policy independent of the severity"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-b68fd1"},"children":[{"type":"text","value":"require-ns-labels"}]},{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-5e8172"},"children":[{"type":"text","value":"error"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"policyPriorities:\n  # used for all fail results without severity or concrete mapping\n  default: warning\n  # used for all fail results of the require-ns-labels policy independent of the severity\n  require-ns-labels: error\n","filename":"config.yaml","language":"yaml","meta":"[config.yaml]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b68fd1"},"children":[{"type":"text","value":"policyPriorities"}]},{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5e2f28"},"children":[{"type":"text","value":"# used for all fail results without severity or concrete mapping"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-b68fd1"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-5e8172"},"children":[{"type":"text","value":"warning"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5e2f28"},"children":[{"type":"text","value":"# used for all fail results of the require-ns-labels policy independent of the severity"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-b68fd1"},"children":[{"type":"text","value":"require-ns-labels"}]},{"type":"element","tag":"span","props":{"class":"ct-9cf56e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-5e8172"},"children":[{"type":"text","value":"error"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"severity-of-kyverno-policies"},"children":[{"type":"text","value":"Severity of Kyverno Policies"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Kyverno supports several annotations for its policy CRDs to set additional information in the related PolicyReports. One of these annotations is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"policies.kyverno.io/severity"}]},{"type":"text","value":" used to set the severity of the related PolicyReportResults. Possible options are "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"low"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"medium"}]},{"type":"text","value":", and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"high"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This allows you to define the priority of your results within the Kyverno policy itself."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-5e8172{color:#0A3069}\n.ct-9cf56e{color:#24292F}\n.ct-b68fd1{color:#116329}\n.ct-5e2f28{color:#6E7781}\n.dark .ct-5e2f28{color:#8B949E}\n.dark .ct-b68fd1{color:#7EE787}\n.dark .ct-9cf56e{color:#C9D1D9}\n.dark .ct-5e8172{color:#A5D6FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"how-priority-is-determined","depth":2,"text":"How Priority is determined","children":[{"id":"defaults","depth":3,"text":"Defaults"},{"id":"custom-policy-priorities","depth":3,"text":"Custom Policy Priorities"}]},{"id":"severity-of-kyverno-policies","depth":2,"text":"Severity of Kyverno Policies"}]}},"_type":"markdown","_id":"content:02. core:priority-mapping.md","_source":"content","_file":"02. core/priority-mapping.md","_extension":"md"}